{"version":3,"sources":["../node_modules/peerjs/dist sync","Utils/Theme.js","Assets/logo.png","Utils/Socket&Peer.js","Components/JoingRequestDialog.js","Pages/Meeting.js","Components/WaitingDialog.js","Pages/Login.js","App.js","reportWebVitals.js","index.js"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","theme","createMuiTheme","styles","palette","primary","light","main","dark","contrastText","secondary","button","borderRadius","textTransform","width","socket","io","peer","Peer","console","log","on","withStyles","text","marginLeft","classes","open","setOpen","userName","call","userId","Dialog","maxWidth","fullWidth","DialogTitle","DialogContentText","Typography","variant","color","align","className","DialogActions","Button","onClick","navigator","mediaDevices","getUserMedia","video","audio","then","stream","answer","ownVideoContainer","position","ownVideo","objectFit","bottom","right","name","props","roomId","userStream","history","useHistory","location","useLocation","useState","showDialog","setShowDialog","guestId","setGuestId","guestName","setGuestName","setCall","useEffect","window","pathname","newPath","pushState","document","getElementById","srcObject","addEventListener","play","newCall","createElement","addVideoStream","split","length","push","state","userVideoStream","append","Grid","container","item","sm","xs","videoGrid","muted","spinnerContainer","display","justifyContent","marginTop","marginBottom","DialogContent","CircularProgress","logo","height","margin","input","buttonContainer","uuidV4","setName","showWaiting","setShowWaiting","openMeeting","setOpenMeeting","setUserStream","style","padding","border","src","alt","TextField","type","required","value","label","onChange","target","_lastServerId","emit","ownerId","App","exact","path","component","Login","Meeting","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.e596c0b1.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 148;","import createMuiTheme from \"@material-ui/core/styles/createMuiTheme\";\r\n\r\nconst theme = createMuiTheme({\r\n  styles: {\r\n    palette: {\r\n      primary: {\r\n        light: \"#7986cb\",\r\n        main: \"#3f51b5\",\r\n        dark: \"#303f9f\",\r\n        contrastText: \"#fff\",\r\n      },\r\n      secondary: {\r\n        light: \"#ec407a\",\r\n        main: \"#e91e63\",\r\n        dark: \"#d81b60\",\r\n        contrastText: \"#fff\",\r\n      },\r\n    },\r\n    button: {\r\n      borderRadius: 20,\r\n      textTransform: \"none\",\r\n      width: \"80%\",\r\n    },\r\n  },\r\n});\r\n\r\nexport default theme;\r\n","export default __webpack_public_path__ + \"static/media/logo.d9ba0f21.png\";","import Peer from \"peerjs\";\r\nimport io from \"socket.io-client\";\r\n\r\nconst socket = io(\"http://localhost:5000\");\r\n\r\nlet peer = new Peer();\r\nconsole.log(peer);\r\npeer.on(\"open\", (id) => {\r\n\tconsole.log(\"aasdasA\" + id);\r\n});\r\n\r\nexport { peer, socket };\r\n","import React from \"react\";\r\nimport { socket, peer } from \"../Utils/Socket&Peer\";\r\n\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nconst styles = (theme) => ({\r\n  ...theme.styles,\r\n  text: {\r\n    marginLeft: \"5%\",\r\n  },\r\n});\r\n\r\nfunction JoingRequestDialog({\r\n  classes,\r\n  open,\r\n  setOpen,\r\n  userName,\r\n  userId,\r\n  call,\r\n}) {\r\n  const rejectRequest = () => {\r\n    // socket.emit(\"reject-call\", userId, userName);\r\n    //call.answer(stream);\r\n    setOpen(false);\r\n  };\r\n\r\n  const acceptRequest = () => {\r\n    if (call) {\r\n      navigator.mediaDevices\r\n        .getUserMedia({\r\n          video: true,\r\n          audio: true,\r\n        })\r\n        .then((stream) => {\r\n          console.log(\"stream---\", stream);\r\n          call.answer(stream);\r\n          setOpen(false);\r\n        });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} maxWidth=\"sm\" fullWidth>\r\n      <DialogTitle>Joining Request</DialogTitle>\r\n      <DialogContentText>\r\n        <Typography\r\n          variant=\"h6\"\r\n          color=\"textPrimary\"\r\n          align=\"left\"\r\n          className={classes.text}\r\n        >\r\n          <b>{userName}</b> wants to join\r\n        </Typography>\r\n      </DialogContentText>\r\n      <DialogActions>\r\n        <Button\r\n          variant=\"outlined\"\r\n          color=\"secondary\"\r\n          onClick={rejectRequest}\r\n          className={classes.button}\r\n        >\r\n          Reject\r\n        </Button>\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          onClick={acceptRequest}\r\n          className={classes.button}\r\n        >\r\n          Accept\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nexport default withStyles(styles)(JoingRequestDialog);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport { peer, socket } from \"../Utils/Socket&Peer\";\r\nimport JoingRequestDialog from \"../Components/JoingRequestDialog\";\r\n\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nconst styles = (theme) => ({\r\n\t...theme.styles,\r\n\townVideoContainer: {\r\n\t\tposition: \"relative\",\r\n\t},\r\n\townVideo: {\r\n\t\twidth: \"100%\",\r\n\t\tobjectFit: \"cover\",\r\n\t\tbottom: 20,\r\n\t\tright: 10,\r\n\t},\r\n\tname: {\r\n\t\tmarginLeft: 10,\r\n\t},\r\n});\r\n\r\nfunction Meeting(props) {\r\n\tconst { classes, name, roomId, userStream } = props;\r\n\r\n\tconst history = useHistory();\r\n\tconst location = useLocation();\r\n\tvar ownStream;\r\n\tconst [showDialog, setShowDialog] = useState(false);\r\n\tconst [guestId, setGuestId] = useState(null);\r\n\tconst [guestName, setGuestName] = useState(null);\r\n\tconst [call, setCall] = useState(null);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (name && socket && peer) {\r\n\t\t\tconsole.log(\"socket------\", socket);\r\n\t\t\tconsole.log(\"peer-------\", peer);\r\n\t\t\tlet path = window.location.pathname;\r\n\t\t\tconst newPath = `/room/${roomId}`;\r\n\t\t\twindow.history.pushState(null, null, newPath);\r\n\r\n\t\t\tconst ownVideo = document.getElementById(\"ownVideo\");\r\n\t\t\tnavigator.mediaDevices\r\n\t\t\t\t.getUserMedia({\r\n\t\t\t\t\tvideo: true,\r\n\t\t\t\t\taudio: true,\r\n\t\t\t\t})\r\n\t\t\t\t.then((stream) => {\r\n\t\t\t\t\townStream = stream;\r\n\t\t\t\t\townVideo.srcObject = stream;\r\n\t\t\t\t\townVideo.addEventListener(\"loadedmetadata\", () => {\r\n\t\t\t\t\t\townVideo.play();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\tpeer.on(\"call\", (newCall) => {\r\n\t\t\t\tsetShowDialog(true);\r\n\t\t\t\tsetCall(newCall);\r\n\t\t\t});\r\n\r\n\t\t\tsocket.on(\"user-connected\", (userId, userName) => {\r\n\t\t\t\tconsole.log(\"user connected---\", userId, userName);\r\n\t\t\t\tsetGuestId(userId);\r\n\t\t\t\tsetGuestName(userName);\r\n\t\t\t});\r\n\r\n\t\t\tif (userStream) {\r\n\t\t\t\tconst video = document.createElement(\"video\");\r\n\t\t\t\taddVideoStream(video, userStream);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tlet roomId = location.pathname.split(\"/\");\r\n\t\t\troomId = roomId[roomId.length - 1].split(\",\");\r\n\t\t\troomId = roomId[0];\r\n\t\t\tconsole.log(roomId);\r\n\t\t\thistory.push({\r\n\t\t\t\tpathname: \"/\",\r\n\t\t\t\tstate: {\r\n\t\t\t\t\troomId: roomId,\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t}\r\n\t\t// return () => {};\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (call) {\r\n\t\t\tconst video = document.createElement(\"video\");\r\n\r\n\t\t\tcall.on(\"stream\", (userVideoStream) => {\r\n\t\t\t\taddVideoStream(video, userVideoStream);\r\n\t\t\t});\r\n\t\t}\r\n\t}, [call]);\r\n\r\n\tconst addVideoStream = (video, stream) => {\r\n\t\tvideo.srcObject = stream;\r\n\t\tvideo.addEventListener(\"loadedmetadata\", () => {\r\n\t\t\tvideo.play();\r\n\t\t});\r\n\t\tdocument.getElementById(\"videoGrid\").append(video);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Grid container>\r\n\t\t\t<Grid item sm={10} xs={12}>\r\n\t\t\t\t<Typography variant=\"h6\" align=\"left\" className={classes.name}>\r\n\t\t\t\t\t{name}\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<div className={classes.videoGrid} id=\"videoGrid\"></div>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item sm={2} xs={12} className={classes.ownVideoContainer}>\r\n\t\t\t\t<video muted id=\"ownVideo\" className={classes.ownVideo} />\r\n\t\t\t</Grid>\r\n\t\t\t<JoingRequestDialog\r\n\t\t\t\tuserName={guestName}\r\n\t\t\t\tuserId={guestId}\r\n\t\t\t\topen={showDialog}\r\n\t\t\t\tsetOpen={setShowDialog}\r\n\t\t\t\tcall={call}\r\n\t\t\t/>\r\n\t\t</Grid>\r\n\t);\r\n}\r\n\r\nexport default withStyles(styles)(Meeting);\r\n","import React from \"react\";\r\n\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nconst styles = (theme) => ({\r\n  ...theme.styles,\r\n  spinnerContainer: {\r\n    width: \"100%\",\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    marginTop: 20,\r\n    marginBottom: 20,\r\n  },\r\n});\r\n\r\nfunction WaitingDialog({ classes }) {\r\n  return (\r\n    <Dialog open maxWidth=\"sm\" fullWidth>\r\n      <DialogContent>\r\n        <Typography variant=\"h5\">Asking To Join</Typography>\r\n        <Typography variant=\"h6\">\r\n          You will join as soon as someone lets you in...\r\n        </Typography>\r\n        <div className={classes.spinnerContainer}>\r\n          <CircularProgress color=\"primary\" />\r\n        </div>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nexport default withStyles(styles)(WaitingDialog);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport logo from \"../Assets/logo.png\";\r\nimport { v4 as uuidV4 } from \"uuid\";\r\nimport Meeting from \"./Meeting\";\r\nimport { socket, peer } from \"../Utils/Socket&Peer\";\r\nimport WaitingDialog from \"../Components/WaitingDialog\";\r\n\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nconst styles = (theme) => ({\r\n\t...theme.styles,\r\n\tlogo: {\r\n\t\twidth: \"15vw\",\r\n\t\theight: \"15vw\",\r\n\t\tmargin: \"auto\",\r\n\t},\r\n\tinput: {\r\n\t\tmargin: \"20px auto\",\r\n\t},\r\n\tbuttonContainer: {\r\n\t\tdisplay: \"flex\",\r\n\t\tjustifyContent: \"center\",\r\n\t},\r\n});\r\n\r\nfunction Login(props) {\r\n\tconst { classes } = props;\r\n\tconst history = useHistory();\r\n\tconst location = useLocation();\r\n\tconst [roomId, setRoomId] = useState(\r\n\t\t(location.state && location.state.roomId) || uuidV4()\r\n\t);\r\n\tconst [name, setName] = useState(\"\");\r\n\tconst [showWaiting, setShowWaiting] = useState(false);\r\n\tconst [openMeeting, setOpenMeeting] = useState(false);\r\n\tconst [call, setCall] = useState(null);\r\n\tconst [userStream, setUserStream] = useState(null);\r\n\r\n\tconst handleSubmit = () => {\r\n\t\tconsole.log(roomId);\r\n\t\tconsole.log(peer._lastServerId);\r\n\t\tif (roomId && peer._lastServerId) {\r\n\t\t\tsocket.emit(\"join-room\", roomId, peer._lastServerId, name);\r\n\t\t\tif (location.state && location.state.roomId) {\r\n\t\t\t\tsetShowWaiting(true);\r\n\t\t\t\t//socket here\r\n\t\t\t\tsocket.on(\"owner-id\", (ownerId) => {\r\n\t\t\t\t\tconsole.log(ownerId);\r\n\t\t\t\t\tnavigator.mediaDevices\r\n\t\t\t\t\t\t.getUserMedia({\r\n\t\t\t\t\t\t\tvideo: true,\r\n\t\t\t\t\t\t\taudio: true,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.then((stream) => {\r\n\t\t\t\t\t\t\tconst newCall = peer.call(ownerId, stream);\r\n\t\t\t\t\t\t\tconsole.log(\"calling---\", ownerId);\r\n\t\t\t\t\t\t\tsetCall(newCall);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tsetOpenMeeting(true);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tuseEffect(() => {\r\n\t\tif (call) {\r\n\t\t\tcall.on(\"stream\", (userVideoStream) => {\r\n\t\t\t\tsetShowWaiting(false);\r\n\t\t\t\tsetUserStream(userVideoStream);\r\n\t\t\t\tsetOpenMeeting(true);\r\n\t\t\t});\r\n\t\t}\r\n\t}, [call]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{showWaiting && <WaitingDialog />}\r\n\t\t\t{!openMeeting ? (\r\n\t\t\t\t<Grid container>\r\n\t\t\t\t\t<Grid item sm={4}></Grid>\r\n\t\t\t\t\t<Grid\r\n\t\t\t\t\t\titem\r\n\t\t\t\t\t\tsm={4}\r\n\t\t\t\t\t\txs={12}\r\n\t\t\t\t\t\tstyle={{ padding: 20, border: \"2 px solid lightgray\" }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<img src={logo} alt=\"We Watch\" className={classes.logo} />\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\tclassName={classes.input}\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\t\tlabel=\"Name\"\r\n\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\tsetName(e.target.value);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<div className={classes.buttonContainer}>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\tonClick={handleSubmit}\r\n\t\t\t\t\t\t\t\tclassName={classes.button}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{location.state && location.state.roomId\r\n\t\t\t\t\t\t\t\t\t? \"Join Meeting\"\r\n\t\t\t\t\t\t\t\t\t: \"Start Meeting\"}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t) : (\r\n\t\t\t\t<Meeting name={name} roomId={roomId} userStream={userStream} />\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default withStyles(styles)(Login);\r\n","import \"./App.css\";\nimport { ThemeProvider as MuiThemeProvider } from \"@material-ui/core/styles\";\nimport theme from \"./Utils/Theme\";\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\n\nimport Login from \"./Pages/Login\";\nimport Meeting from \"./Pages/Meeting\";\n\nfunction App() {\n\treturn (\n\t\t<MuiThemeProvider theme={theme}>\n\t\t\t<div className=\"App\">\n\t\t\t\t<BrowserRouter>\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route exact path=\"/\" component={Login} />\n\t\t\t\t\t\t<Route exact path=\"/room/:roomId\" component={Meeting} />\n\t\t\t\t\t</Switch>\n\t\t\t\t</BrowserRouter>\n\t\t\t</div>\n\t\t</MuiThemeProvider>\n\t);\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}